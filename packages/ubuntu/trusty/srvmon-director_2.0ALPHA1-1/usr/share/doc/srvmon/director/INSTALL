SRVMON DIRECTOR WEB APPLICATION V2.0 A1 - INSTALLATION GUIDE
============================================================

>>> ALPHA A1 GUIDE / CONTENTS MAY VARY FOR NEW RELEASES! <<<

* Introduction *

This guide will help you to setup the SRVMON Director on your computer.
Please note that this guide is intended for the Debian/Ubuntu release.

* Prerequisites *

Before you begin, please perform a system update of your computer in
order to make sure that you have the newest packages installed:

	$ sudo apt-get update
	$ sudo apt-get upgrade

Please make sure that you have also installed the following packages on
your system:

	Name         Version          Architecture
	============-================-==============
	apache2      2.4.10-10 (>=)   amd64/i386
	php5         5.6.7 (>=)       all
	php5-mysql   5.6.7 (>=)       amd64/i386

It is also IMPORTANT that the SRVMON Database is installed and
initialized on your system. You must install the Database Version 1.3
or later. Please refer to the installation manual for the database 
setup.

Your webserver must also support the rewriting of URLs. Ex. for
apache you would have to enable mod_rewrite.

If you want to generate the documentation for the source code, you
will need to install the phpDocumentor. This can be easily done with
PHP-PEAR:

	$ pear channel-discover pear.phpdoc.org
	$ pear install phpdoc/phpDocumentor

To generate the documentation, simply use the following command:

	$ phpdoc -d src/ -t doc

The documentation will be created into the doc folder.

* Installation *

** Install from repositories

The easiest way to install the server is by using the repositories for
the SRVMON project. Please import the GPG key for the repositories by
susing the commands below (root):

	$ wget -O -http://debian.dharmatel.de/apt/conf/dharmatel.gpg.key | apt-key add -

After the key has been imported, you can now add the repository by
creating a new file in the /etc/apt/sources.list.d/ directory called
"srvmon.list". Insert the following string inside the file:

If using Debian 7.* Wheezy:
	deb http://debian.dharmatel.de/apt/debian wheezy main

If using Debian 8.* Jessie:
	deb http://debian.dharmatel.de/apt/debian jessie main

You now have to refresh the package lists and then you can install
the server with the following commands:

	$ sudo apt-get update
	$ sudo apt-get install srvmon-director

After the package has been installed, the automatic setup script will
launch and guide you through the process.

** Automatic setup

If you wish to automatically setup the SRVMON Director, you only have
to execute the setup.sh script located in the project directory.
Please make sure that you have the appropriate rights and that the
destination web root is writeable for your user. You could also
execute the script as root, but this is not advised. Please follow the
onscreen instructions until the setup has finished.

** Manual setup

Simply copy all the files from the projects root directory to the 
destination root of your webserver:

	Ex.: $ rsync -azP src/ /var/www/vhost/srvmon/

After the files have been copied to your webserver root, you then have
to modify the init.php files according to your database settings:

	$ vim <webroot>/inc/init.php

Find the section below and modify it to your needs:

	...
	$GLOBALS["config"] = array(
		"mysql" => array(
			"host"   => "<IP of the SQL server>",
			"user"   => "<DB username>",
			"pass"   => "<DB user password>",
			"dbname" => "<DB name>"
		)
	);
	...

I will not go into detail on the topic on how to create a vhost for
Apache2. If you wish to do this, please consult the documentation for
Apache2, or you could ask me if you need help.

If everything has been installed correctly, the application will
display the following text when you visit the URL:
	
	"Hello there!"

Check for the version of the server under the URL:
	
	http://<servername>/version

This should return you the following JSON encoded data:

	{"status":"OK","data":{"program":"SRVMON Director","version":"2.0 A1","copyright":"2016 Pol Warnimont","license":"GPLv2"}}

Please note that the current version does not support HTTPS 
connections. This feature will be implemented soon.

* Etc *

For any questions regarding the SRVMON Director Server, please send
an e-mail to the maintainer of the project:

	<pwarnimo(at)gmail(dot)com>
		or use
	https://github.com/pwarnimo/srvmon/issues

The source for the entire project can be found on GitHub:

	https://github.com/pwarnimo/srvmon
	https://pwarnimo.github.io/srvmon
